---
import BaseLayout from "../layouts/BaseLayout.astro";
import Hero from "../components/Hero.astro";
import ConcertPreview from "../components/ConcertPreview.astro";
import SpotifyEmbed from "../components/SpotifyEmbed.astro";
import YouTubeEmbed from "../components/YouTubeEmbed.astro";
import NewsletterSignup from "../components/NewsletterSignup.astro";
import WaveDivider from "../components/WaveDivider.astro";
import KrakenTentacles from "../components/KrakenTentacles.astro";

// Load media settings from CMS
import mediaSettings from "../content/settings/media.json";

const youtubeUrl = mediaSettings.youtubeVideoUrl;
const spotifyUri = mediaSettings.spotifyAlbumUri;
---

<BaseLayout title="Inicio" description="Legacy of the Seas - Banda de Metal desde las profundidades del océano. Música épica, letras inmersivas y un sonido que te transportará.">
  <Hero logoSrc="/images/logo/logo-ls.png" />

  <!-- Wave transition from hero -->
  <WaveDivider color="#091418" />

  <!-- Media section - Shallow waters -->
  <section id="escuchanos" class="py-16 bg-depth-shallow">
    <div class="container mx-auto px-4">
      <div class="max-w-3xl mx-auto text-center">
        <h2 class="text-3xl md:text-4xl font-metal text-gradient mb-6">
          Escúchanos
        </h2>
        <p class="text-gray-400 mb-8">
          Descubre nuestra música en tu plataforma favorita
        </p>

        <!-- YouTube videoclip -->
        {youtubeUrl && (
          <div class="mb-8">
            <YouTubeEmbed videoUrl={youtubeUrl} title="Legacy of the Seas - Videoclip" />
          </div>
        )}

        <!-- Spotify embed -->
        {spotifyUri && <SpotifyEmbed spotifyUri={spotifyUri} height={352} />}
      </div>
    </div>
  </section>

  <!-- Wave transition -->
  <WaveDivider color="#071216" />

  <!-- Concerts section - Mid depth -->
  <div class="bg-depth-mid">
    <ConcertPreview />
  </div>

  <!-- Wave transition -->
  <WaveDivider color="#050f14" />

  <!-- About teaser - Deep waters -->
  <section class="py-20 bg-depth-deep relative overflow-hidden">
    <!-- Subtle glow effect -->
    <div class="absolute inset-0 opacity-30">
      <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-band-sea/5 rounded-full blur-3xl"></div>
    </div>

    <div class="container mx-auto px-4 relative z-10">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-3xl md:text-4xl font-metal text-gradient mb-6">
          Sobre Nosotros
        </h2>
        <p class="text-lg text-gray-300 mb-8 leading-relaxed">
          Legacy of the Seas somos una banda de Metal Sinfónico con influencias Folk y Power
          creada en 2010. Cinco músicos unidos por la pasión de hacer llegar nuestro Legado
          a lo largo y ancho de los siete mares.
        </p>
        <a href="/nosotros" class="btn-secondary inline-flex items-center gap-2">
          Conoce a la tripulación
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- Wave transition -->
  <WaveDivider color="#030a10" />

  <!-- Newsletter - The Abyss -->
  <section class="py-16 pb-24 bg-depth-abyss relative overflow-hidden">
    <!-- Deep sea ambient glow -->
    <div class="absolute inset-0 opacity-20">
      <div class="absolute bottom-0 left-1/4 w-[400px] h-[400px] bg-band-sea/10 rounded-full blur-3xl"></div>
      <div class="absolute bottom-0 right-1/4 w-[300px] h-[300px] bg-band-sea/5 rounded-full blur-3xl"></div>
    </div>

    <!-- Kraken tentacles emerging from the depths -->
    <KrakenTentacles />

    <div class="container mx-auto px-4 relative z-10">
      <div class="max-w-xl mx-auto">
        <NewsletterSignup />
      </div>
    </div>
  </section>
</BaseLayout>
